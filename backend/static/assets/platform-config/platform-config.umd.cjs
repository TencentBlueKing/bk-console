(function(p,v){typeof exports=="object"&&typeof module!="undefined"?v(exports):typeof define=="function"&&define.amd?define(["exports"],v):(p=typeof globalThis!="undefined"?globalThis:p||self,v(p.PlatformConfig={}))})(this,function(p){"use strict";var vt=Object.defineProperty,ht=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var me=(p,v,h)=>v in p?vt(p,v,{enumerable:!0,configurable:!0,writable:!0,value:h}):p[v]=h,A=(p,v)=>{for(var h in v||(v={}))bt.call(v,h)&&me(p,h,v[h]);if(he)for(var h of he(v))yt.call(v,h)&&me(p,h,v[h]);return p},M=(p,v)=>ht(p,mt(v));var be=(p,v,h)=>new Promise((g,E)=>{var T=k=>{try{_(h.next(k))}catch(P){E(P)}},V=k=>{try{_(h.throw(k))}catch(P){E(P)}},_=k=>k.done?g(k.value):Promise.resolve(k.value).then(T,V);_((h=h.apply(p,v)).next())});function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h={exports:{}},g={},E={exports:{}},T={};function V(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function _(e,r,t){}function k(e,r,t){}var P=/javascript\s*\:/img;function ye(e,r){return P.test(r)?"":r}T.whiteList=V(),T.getDefaultWhiteList=V,T.onAttr=_,T.onIgnoreAttr=k,T.safeAttrValue=ye;var we={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,i;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,i=e.length;a<i;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},R=we;function Ae(e,r){e=R.trimRight(e),e[e.length-1]!==";"&&(e+=";");var t=e.length,a=!1,i=0,n=0,u="";function o(){if(!a){var l=R.trim(e.slice(i,n)),f=l.indexOf(":");if(f!==-1){var d=R.trim(l.slice(0,f)),m=R.trim(l.slice(f+1));if(d){var b=r(i,u.length,d,m,l);b&&(u+=b+"; ")}}}i=n+1}for(;n<t;n++){var s=e[n];if(s==="/"&&e[n+1]==="*"){var c=e.indexOf("*/",n+2);if(c===-1)break;n=c+1,i=n+1,a=!1}else s==="("?a=!0:s===")"?a=!1:s===";"?a||o():s===`
`&&o()}return R.trim(u)}var Te=Ae,W=T,ke=Te;function Q(e){return e==null}function Se(e){var r={};for(var t in e)r[t]=e[t];return r}function j(e){e=Se(e||{}),e.whiteList=e.whiteList||W.whiteList,e.onAttr=e.onAttr||W.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||W.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||W.safeAttrValue,this.options=e}j.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,a=t.whiteList,i=t.onAttr,n=t.onIgnoreAttr,u=t.safeAttrValue,o=ke(e,function(s,c,l,f,d){var m=a[l],b=!1;if(m===!0?b=m:typeof m=="function"?b=m(f):m instanceof RegExp&&(b=m.test(f)),b!==!0&&(b=!1),f=u(l,f),!!f){var z={position:c,sourcePosition:s,source:d,isWhite:b};if(b){var y=i(l,f,z);return Q(y)?l+":"+f:y}else{var y=n(l,f,z);if(!Q(y))return y}}});return o};var xe=j;(function(e,r){var t=T,a=xe;function i(u,o){var s=new a(o);return s.process(u)}r=e.exports=i,r.FilterCSS=a;for(var n in t)r[n]=t[n];typeof window!="undefined"&&(window.filterCSS=e.exports)})(E,E.exports);var B=E.exports,H={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,i;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,i=e.length;a<i;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/,t=r.exec(e);return t?t.index:-1}},Ee=B.FilterCSS,Ce=B.getDefaultWhiteList,N=H;function J(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var K=new Ee;function Ie(e,r,t){}function Le(e,r,t){}function _e(e,r,t){}function Pe(e,r,t){}function Z(e){return e.replace($e,"&lt;").replace(Oe,"&gt;")}function Re(e,r,t,a){if(t=se(t),r==="href"||r==="src"){if(t=N.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(r==="background"){if(F.lastIndex=0,F.test(t))return""}else if(r==="style"){if(Y.lastIndex=0,Y.test(t)||(ee.lastIndex=0,ee.test(t)&&(F.lastIndex=0,F.test(t))))return"";a!==!1&&(a=a||K,t=a.process(t))}return t=oe(t),t}var $e=/</g,Oe=/>/g,Ve=/"/g,We=/&quot;/g,Ne=/&#([a-zA-Z0-9]*);?/gim,Fe=/&colon;?/gim,De=/&newline;?/gim,F=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Y=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ee=/u\s*r\s*l\s*\(.*/gi;function te(e){return e.replace(Ve,"&quot;")}function re(e){return e.replace(We,'"')}function ae(e){return e.replace(Ne,function(t,a){return a[0]==="x"||a[0]==="X"?String.fromCharCode(parseInt(a.substr(1),16)):String.fromCharCode(parseInt(a,10))})}function ne(e){return e.replace(Fe,":").replace(De," ")}function ie(e){for(var r="",t=0,a=e.length;t<a;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return N.trim(r)}function se(e){return e=re(e),e=ae(e),e=ne(e),e=ie(e),e}function oe(e){return e=te(e),e=Z(e),e}function Xe(){return""}function Ge(e,r){typeof r!="function"&&(r=function(){});var t=!Array.isArray(e);function a(u){return t?!0:N.indexOf(e,u)!==-1}var i=[],n=!1;return{onIgnoreTag:function(u,o,s){if(a(u))if(s.isClosing){var c="[/removed]",l=s.position+c.length;return i.push([n!==!1?n:s.position,l]),n=!1,c}else return n||(n=s.position),"[removed]";else return r(u,o,s)},remove:function(u){var o="",s=0;return N.forEach(i,function(c){o+=u.slice(s,c[0]),s=c[1]}),o+=u.slice(s),o}}}function ze(e){for(var r="",t=0;t<e.length;){var a=e.indexOf("<!--",t);if(a===-1){r+=e.slice(t);break}r+=e.slice(t,a);var i=e.indexOf("-->",a);if(i===-1)break;t=i+3}return r}function qe(e){var r=e.split("");return r=r.filter(function(t){var a=t.charCodeAt(0);return a===127?!1:a<=31?a===10||a===13:!0}),r.join("")}g.whiteList=J(),g.getDefaultWhiteList=J,g.onTag=Ie,g.onIgnoreTag=Le,g.onTagAttr=_e,g.onIgnoreTagAttr=Pe,g.safeAttrValue=Re,g.escapeHtml=Z,g.escapeQuote=te,g.unescapeQuote=re,g.escapeHtmlEntities=ae,g.escapeDangerHtml5Entities=ne,g.clearNonPrintableCharacter=ie,g.friendlyAttrValue=se,g.escapeAttrValue=oe,g.onIgnoreTagStripAll=Xe,g.StripTagBody=Ge,g.stripCommentTag=ze,g.stripBlankChar=qe,g.attributeWrapSign='"',g.cssFilter=K,g.getDefaultCSSWhiteList=Ce;var D={},x=H;function Be(e){var r=x.spaceIndex(e),t;return r===-1?t=e.slice(1,-1):t=e.slice(1,r+1),t=x.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function He(e){return e.slice(0,2)==="</"}function Ue(e,r,t){var a="",i=0,n=!1,u=!1,o=0,s=e.length,c="",l="";e:for(o=0;o<s;o++){var f=e.charAt(o);if(n===!1){if(f==="<"){n=o;continue}}else if(u===!1){if(f==="<"){a+=t(e.slice(i,o)),n=o,i=o;continue}if(f===">"||o===s-1){a+=t(e.slice(i,n)),l=e.slice(n,o+1),c=Be(l),a+=r(n,a.length,c,l,He(l)),i=o+1,n=!1;continue}if(f==='"'||f==="'")for(var d=1,m=e.charAt(o-d);m.trim()===""||m==="=";){if(m==="="){u=f;continue e}m=e.charAt(o-++d)}}else if(f===u){u=!1;continue}}return i<s&&(a+=t(e.substr(i))),a}var Me=/[^a-zA-Z0-9\\_:.-]/gim;function Qe(e,r){var t=0,a=0,i=[],n=!1,u=e.length;function o(d,m){if(d=x.trim(d),d=d.replace(Me,"").toLowerCase(),!(d.length<1)){var b=r(d,m||"");b&&i.push(b)}}for(var s=0;s<u;s++){var c=e.charAt(s),l,f;if(n===!1&&c==="="){n=e.slice(t,s),t=s+1,a=e.charAt(t)==='"'||e.charAt(t)==="'"?t:Je(e,s+1);continue}if(n!==!1&&s===a){if(f=e.indexOf(c,s+1),f===-1)break;l=x.trim(e.slice(a+1,f)),o(n,l),n=!1,s=f,t=s+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(f=je(e,s),f===-1){l=x.trim(e.slice(t,s)),o(l),n=!1,t=s+1;continue}else{s=f-1;continue}else if(f=Ke(e,s-1),f===-1){l=x.trim(e.slice(t,s)),l=le(l),o(n,l),n=!1,t=s+1;continue}else continue}return t<e.length&&(n===!1?o(e.slice(t)):o(n,le(x.trim(e.slice(t))))),x.trim(i.join(" "))}function je(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="="?r:-1}}function Je(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="'"||t==='"'?r:-1}}function Ke(e,r){for(;r>0;r--){var t=e[r];if(t!==" ")return t==="="?r:-1}}function Ze(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function le(e){return Ze(e)?e.substr(1,e.length-2):e}D.parseTag=Ue,D.parseAttr=Qe;var Ye=B.FilterCSS,w=g,fe=D,et=fe.parseTag,tt=fe.parseAttr,X=H;function G(e){return e==null}function rt(e){var r=X.spaceIndex(e);if(r===-1)return{html:"",closing:e[e.length-2]==="/"};e=X.trim(e.slice(r+1,-1));var t=e[e.length-1]==="/";return t&&(e=X.trim(e.slice(0,-1))),{html:e,closing:t}}function at(e){var r={};for(var t in e)r[t]=e[t];return r}function nt(e){var r={};for(var t in e)Array.isArray(e[t])?r[t.toLowerCase()]=e[t].map(function(a){return a.toLowerCase()}):r[t.toLowerCase()]=e[t];return r}function ue(e){e=at(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=w.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=nt(e.whiteList||e.allowList):e.whiteList=w.whiteList,this.attributeWrapSign=e.singleQuotedAttributeValue===!0?"'":w.attributeWrapSign,e.onTag=e.onTag||w.onTag,e.onTagAttr=e.onTagAttr||w.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||w.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||w.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||w.safeAttrValue,e.escapeHtml=e.escapeHtml||w.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Ye(e.css))}ue.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,a=t.whiteList,i=t.onTag,n=t.onIgnoreTag,u=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,c=t.escapeHtml,l=r.attributeWrapSign,f=r.cssFilter;t.stripBlankChar&&(e=w.stripBlankChar(e)),t.allowCommentTag||(e=w.stripCommentTag(e));var d=!1;t.stripIgnoreTagBody&&(d=w.StripTagBody(t.stripIgnoreTagBody,n),n=d.onIgnoreTag);var m=et(e,function(b,z,y,S,pt){var q={sourcePosition:b,position:z,isClosing:pt,isWhite:Object.prototype.hasOwnProperty.call(a,y)},$=i(y,S,q);if(!G($))return $;if(q.isWhite){if(q.isClosing)return"</"+y+">";var de=rt(S),dt=a[y],ve=tt(de.html,function(I,L){var U=X.indexOf(dt,I)!==-1,O=u(y,I,L,U);return G(O)?U?(L=s(y,I,L,f),L?I+"="+l+L+l:I):(O=o(y,I,L,U),G(O)?void 0:O):O});return S="<"+y,ve&&(S+=" "+ve),de.closing&&(S+=" /"),S+=">",S}else return $=n(y,S,q),G($)?c(S):$},c);return d&&(m=d.remove(m)),m};var it=ue;(function(e,r){var t=g,a=D,i=it;function n(o,s){var c=new i(s);return c.process(o)}r=e.exports=n,r.filterXSS=n,r.FilterXSS=i,function(){for(var o in t)r[o]=t[o];for(var s in a)r[s]=a[s]}(),typeof window!="undefined"&&(window.filterXSS=e.exports);function u(){return typeof self!="undefined"&&typeof DedicatedWorkerGlobalScope!="undefined"&&self instanceof DedicatedWorkerGlobalScope}u()&&(self.filterXSS=e.exports)})(h,h.exports);var st=h.exports;const ot=v(st),lt=(e,r,{cbName:t=""})=>{if(!e)throw new Error("invalid URL");const a=t||`CALLBACK${Math.random().toString().slice(9,18)}`,i=document.createElement("script");i.setAttribute("type","text/javascript");const n=document.getElementsByTagName("head")[0];let u=`&_t=${Date.now()}`,o=null;const s=c=>{o==null||o(c),window.removeEventListener("error",s)};return i.src=`${e}?callback=${a}${u}`,i.onerror=s,window.addEventListener("error",s),new Promise((c,l)=>{o=l;try{window[a]=f=>{c(f),n.removeChild(i),delete window[a]},n.appendChild(i)}catch(f){l(f)}})},ce=e=>{var r;if(e)return(r=ot(e,{stripIgnoreTagBody:!0}))==null?void 0:r.replace(/\[([^\]]+)\]\(([^)]+)\)/gi,'<a target="_blank" class="link-item" href="$2">$1</a>')},ft=e=>{var r="; "+document.cookie,t=r.split("; "+e+"=");if(t.length==2)return t.pop().split(";").shift()},ge=()=>ft("blueking_language")||"zh-cn",C=(e,r,t)=>(t||ge())==="en"?e[r+"En"]:e[r],pe="|",ut=(...e)=>be(this,null,function*(){const[r,t={}]=e,a={footerInfo:"[技术支持](https://wpa1.qq.com/KziXGWJs?_type=wpa&qidian=true) | [社区论坛](https://bk.tencent.com/s-mart/community/) | [产品官网](https://bk.tencent.com/index/)",footerInfoEn:"[Support](https://wpa1.qq.com/KziXGWJs?_type=wpa&qidian=true) | [Forum](https://bk.tencent.com/s-mart/community/) | [Official](https://bk.tencent.com/index/)",footerCopyright:"Copyright © 2012 Tencent BlueKing. All Rights Reserved. {{version}}"},i=n=>{var f,d;const u=ce(n==null?void 0:n.footerInfo),o=ce(n==null?void 0:n.footerInfoEn),s=(d=n==null?void 0:n.footerCopyright)==null?void 0:d.replace(/\{\{version\}\}/gi,(f=n==null?void 0:n.version)!=null?f:""),c=ge(),l=M(A({},n),{footerInfoHTML:u,footerInfoHTMLEn:o,footerCopyrightContent:s});return M(A({},l),{i18n:{name:C(l,"name",c),helperText:C(l,"helperText",c),brandImg:C(l,"brandImg",c),brandName:C(l,"brandName",c),footerInfoHTML:C(l,"footerInfoHTML",c)}})};if(typeof r!="string"&&r!==null&&typeof r=="object"&&e.length===1)return i(A(A({},a),r));try{const n=(yield lt(r,null,{cbName:"__platCfgCallback__"}))||{};return i(A(A(A({},a),t),n))}catch(n){return console.warn("[platform-config] Remote configuration data fetch failed, default data will be used."),i(A(A({},a),t))}}),ct=e=>{let r=document.querySelector('link[rel="shortcut icon"]');r||(r=document.createElement("link"),r.setAttribute("rel","shortcut icon"),document.head.appendChild(r));const t={ico:"x-icon",png:"png",svg:"svg+xml"},i=(n=>{const u=n==null?void 0:n.split("/").pop();return u==null?void 0:u.split("?")[0].split(".")[1]})(e);i&&r.setAttribute("type",`image/${t[i]}`),r.setAttribute("href",e)},gt=(e={},r=[])=>{const{name:t,brandName:a}=e,i=[t,a];if(r){const n=Array.isArray(r)?r:[r];i.push(...n)}document.title=i==null?void 0:i.join(` ${pe} `)};p.getI18nValue=C,p.getPlatformConfig=ut,p.setDocumentTitle=gt,p.setShortcutIcon=ct,p.titleSeparator=pe,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})});
